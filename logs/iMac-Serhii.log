2024-07-27 12:29:04.831 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 8124 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:29:04.841 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:29:04.842 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:29:10.719 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.613 seconds (process running for 7.897)
2024-07-27 12:29:11.490 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 8124 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:29:11.490 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:29:11.490 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:29:12.106 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.632 seconds (process running for 9.284)
2024-07-27 12:29:12.936 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 12:29:12.944 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 12:29:12.945 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 12:29:12.946 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 12:29:12.946 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 12:29:12.946 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 12:29:12.964 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 12:29:12.965 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 12:29:12.965 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 12:29:12.972 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 12:29:12.972 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 12:29:12.973 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 12:29:12.973 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 12:29:12.973 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 12:29:12.973 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 12:29:12.981 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 12:29:12.981 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 12:29:12.981 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 12:29:12.982 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 12:29:12.982 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 12:29:12.982 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 12:29:12.982 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 12:29:12.988 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 12:29:12.989 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 12:29:12.989 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 12:29:12.989 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 12:29:12.989 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 12:29:12.989 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 12:29:13.085 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 8124 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:29:13.085 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:29:13.085 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:29:16.327 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 8124 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:29:16.328 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:29:16.328 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:29:17.343 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 12:29:17.376 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 1.078 seconds (process running for 14.554)
2024-07-27 12:29:17.945 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 8124 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:29:17.945 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:29:17.945 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:29:18.394 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 12:29:18.408 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.477 seconds (process running for 15.586)
2024-07-27 12:29:18.474 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 8124 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:29:18.474 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:29:18.474 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:29:18.890 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 12:29:18.899 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.439 seconds (process running for 16.077)
2024-07-27 12:29:19.009 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 8124 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:29:19.009 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:29:19.009 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:29:19.338 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 12:29:19.347 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.351 seconds (process running for 16.525)
2024-07-27 12:29:19.424 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 8124 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:29:19.424 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:29:19.424 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:29:19.771 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 12:29:19.778 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.367 seconds (process running for 16.956)
2024-07-27 12:29:19.883 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 8124 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:29:19.883 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:29:19.883 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:29:21.625 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 12:29:21.625 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 12:29:21.625 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 12:29:21.627 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 12:29:21.627 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 12:29:21.631 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 12:29:21.632 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 12:29:21.632 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 12:29:21.635 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 12:29:21.635 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 12:29:21.636 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 12:29:21.638 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 12:29:21.639 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 12:29:21.643 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 12:29:21.643 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 12:29:21.643 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 12:29:21.643 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 12:29:21.643 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 12:29:21.798 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 12:29:21.799 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 12:29:21.799 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 12:29:21.802 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 12:29:21.802 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 12:29:21.804 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 12:29:21.806 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 12:29:21.807 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 12:29:21.809 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 12:29:21.809 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 12:29:21.811 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 12:29:21.811 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 12:29:21.813 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 12:29:21.813 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 12:29:21.980 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 12:29:21.980 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 12:29:21.982 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 12:29:21.982 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 12:29:21.984 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 12:29:21.986 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 12:29:21.988 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 12:29:22.301 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:29:22.302 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:29:22.359 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 12:29:22.359 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:29:22.360 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:29:22.362 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 12:29:22.366 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:29:22.366 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:29:22.366 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:29:22.368 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:29:22.392 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 12:29:22.392 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:29:22.392 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:29:22.392 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 12:29:22.395 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:29:22.395 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:29:22.396 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 12:29:22.396 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:29:22.396 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:29:22.396 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 12:29:22.397 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 12:29:22.400 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:29:22.400 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:29:22.400 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 12:29:22.400 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:29:22.401 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:29:22.404 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:29:22.404 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:29:22.405 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 12:29:22.405 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:29:22.405 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:29:22.405 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 12:29:22.408 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:29:22.408 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:29:22.408 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 12:29:22.408 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:29:22.409 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:29:22.409 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 12:29:22.481 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 12:29:22.481 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 12:29:22.484 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 12:29:22.484 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 12:29:22.486 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 12:29:22.487 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 12:29:22.489 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 12:29:22.489 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 12:29:22.491 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 12:29:22.492 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 12:29:46.314 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 8167 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:29:46.315 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:29:46.316 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:29:52.057 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.668 seconds (process running for 8.224)
2024-07-27 12:29:52.761 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 8167 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:29:52.761 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:29:52.761 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:29:53.296 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.55 seconds (process running for 9.463)
2024-07-27 12:29:54.017 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 12:29:54.021 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 12:29:54.022 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 12:29:54.022 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 12:29:54.023 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 12:29:54.023 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 12:29:54.038 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 12:29:54.038 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 12:29:54.038 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 12:29:54.044 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 12:29:54.044 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 12:29:54.045 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 12:29:54.045 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 12:29:54.045 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 12:29:54.046 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 12:29:54.052 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 12:29:54.052 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 12:29:54.053 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 12:29:54.053 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 12:29:54.053 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 12:29:54.053 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 12:29:54.054 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 12:29:54.059 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 12:29:54.060 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 12:29:54.060 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 12:29:54.060 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 12:29:54.061 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 12:29:54.061 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 12:29:54.162 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 8167 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:29:54.162 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:29:54.162 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:29:57.171 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 8167 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:29:57.171 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:29:57.171 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:29:58.092 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 12:29:58.124 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.981 seconds (process running for 14.291)
2024-07-27 12:29:58.640 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 8167 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:29:58.640 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:29:58.640 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:29:59.049 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 12:29:59.062 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.438 seconds (process running for 15.229)
2024-07-27 12:29:59.130 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 8167 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:29:59.131 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:29:59.131 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:29:59.532 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 12:29:59.546 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.429 seconds (process running for 15.712)
2024-07-27 12:29:59.672 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 8167 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:29:59.672 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:29:59.672 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:30:00.071 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 12:30:00.081 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.423 seconds (process running for 16.248)
2024-07-27 12:30:00.170 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 8167 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:30:00.170 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:30:00.170 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:30:00.563 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 12:30:00.574 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.419 seconds (process running for 16.74)
2024-07-27 12:30:00.683 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 8167 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:30:00.683 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:30:00.684 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:30:02.492 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 12:30:02.493 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 12:30:02.494 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 12:30:02.495 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 12:30:02.495 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 12:30:02.499 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 12:30:02.499 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 12:30:02.500 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 12:30:02.503 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 12:30:02.504 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 12:30:02.504 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 12:30:02.506 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 12:30:02.507 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 12:30:02.511 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 12:30:02.511 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 12:30:02.511 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 12:30:02.511 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 12:30:02.511 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 12:30:02.644 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 12:30:02.644 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 12:30:02.644 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 12:30:02.647 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 12:30:02.648 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 12:30:02.650 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 12:30:02.652 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 12:30:02.652 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 12:30:02.655 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 12:30:02.655 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 12:30:02.657 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 12:30:02.657 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 12:30:02.660 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 12:30:02.661 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 12:30:02.826 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 12:30:02.827 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 12:30:02.829 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 12:30:02.830 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 12:30:02.832 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 12:30:02.834 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 12:30:02.836 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 12:30:03.145 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:30:03.145 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:30:03.197 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 12:30:03.197 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:30:03.197 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:30:03.198 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 12:30:03.201 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:30:03.201 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:30:03.201 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:30:03.201 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:30:03.202 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 12:30:03.202 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:30:03.202 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:30:03.202 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 12:30:03.204 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:30:03.205 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:30:03.205 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 12:30:03.205 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:30:03.206 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:30:03.206 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 12:30:03.206 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 12:30:03.209 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:30:03.209 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:30:03.210 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 12:30:03.210 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:30:03.210 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:30:03.213 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:30:03.213 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:30:03.214 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 12:30:03.214 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:30:03.214 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:30:03.214 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 12:30:03.217 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:30:03.217 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:30:03.218 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 12:30:03.218 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:30:03.218 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:30:03.218 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 12:30:03.290 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 12:30:03.291 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 12:30:03.293 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 12:30:03.294 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 12:30:03.296 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 12:30:03.296 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 12:30:03.298 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 12:30:03.299 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 12:30:03.301 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 12:30:03.301 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 12:30:42.982 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 8195 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:30:42.982 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:30:42.983 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:30:48.496 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.215 seconds (process running for 7.482)
2024-07-27 12:30:49.263 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 8195 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:30:49.263 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:30:49.263 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:30:49.913 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.667 seconds (process running for 8.899)
2024-07-27 12:30:50.695 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 12:30:50.699 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 12:30:50.700 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 12:30:50.700 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 12:30:50.700 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 12:30:50.701 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 12:30:50.717 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 12:30:50.718 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 12:30:50.718 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 12:30:50.724 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 12:30:50.725 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 12:30:50.725 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 12:30:50.725 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 12:30:50.725 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 12:30:50.726 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 12:30:50.733 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 12:30:50.733 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 12:30:50.733 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 12:30:50.734 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 12:30:50.734 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 12:30:50.734 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 12:30:50.734 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 12:30:50.740 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 12:30:50.740 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 12:30:50.741 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 12:30:50.741 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 12:30:50.741 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 12:30:50.741 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 12:30:50.840 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 8195 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:30:50.840 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:30:50.840 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:30:56.112 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 12:30:56.179 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Started AuthIntegrationTest in 5.386 seconds (process running for 15.165)
2024-07-27 12:30:56.570 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 8195 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:30:56.570 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:30:56.570 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:30:56.813 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 12:30:56.819 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.265 seconds (process running for 15.806)
2024-07-27 12:30:56.931 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 8195 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:30:56.932 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:30:56.932 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:30:57.215 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 12:30:57.223 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.305 seconds (process running for 16.21)
2024-07-27 12:30:57.272 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 8195 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:30:57.272 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:30:57.272 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:30:57.533 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 12:30:57.539 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.278 seconds (process running for 16.526)
2024-07-27 12:30:57.640 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 8195 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:30:57.640 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:30:57.640 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:30:57.890 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 12:30:57.895 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.266 seconds (process running for 16.881)
2024-07-27 12:30:57.952 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 8195 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:30:57.952 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:30:57.952 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:30:58.213 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 12:30:58.218 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.277 seconds (process running for 17.204)
2024-07-27 12:30:58.304 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 8195 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 12:30:58.304 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 12:30:58.304 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 12:31:00.249 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Started FinalProjectApplicationTests in 1.957 seconds (process running for 19.236)
2024-07-27 12:31:00.515 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 12:31:00.516 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 12:31:00.516 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 12:31:00.518 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 12:31:00.518 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 12:31:00.522 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 12:31:00.523 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 12:31:00.523 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 12:31:00.526 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 12:31:00.526 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 12:31:00.526 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 12:31:00.530 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 12:31:00.530 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 12:31:00.534 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 12:31:00.535 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 12:31:00.535 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 12:31:00.535 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 12:31:00.535 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 12:31:00.643 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 12:31:00.643 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 12:31:00.643 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 12:31:00.646 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 12:31:00.647 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 12:31:00.649 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 12:31:00.651 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 12:31:00.651 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 12:31:00.653 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 12:31:00.654 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 12:31:00.655 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 12:31:00.656 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 12:31:00.658 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 12:31:00.658 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 12:31:00.793 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 12:31:00.794 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 12:31:00.796 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 12:31:00.797 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 12:31:00.799 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 12:31:00.801 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 12:31:00.804 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 12:31:01.061 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:31:01.062 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:31:01.109 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 12:31:01.109 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:31:01.109 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:31:01.109 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 12:31:01.113 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:31:01.113 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:31:01.114 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:31:01.114 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:31:01.114 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 12:31:01.114 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:31:01.114 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:31:01.115 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 12:31:01.117 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:31:01.117 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:31:01.118 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 12:31:01.118 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:31:01.118 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:31:01.118 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 12:31:01.119 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 12:31:01.121 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:31:01.121 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:31:01.122 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 12:31:01.122 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:31:01.122 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:31:01.125 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:31:01.126 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:31:01.126 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 12:31:01.126 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:31:01.126 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:31:01.127 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 12:31:01.130 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:31:01.131 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:31:01.131 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 12:31:01.131 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 12:31:01.132 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 12:31:01.132 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 12:31:01.196 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 12:31:01.196 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 12:31:01.199 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 12:31:01.199 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 12:31:01.201 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 12:31:01.202 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 12:31:01.204 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 12:31:01.205 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 12:31:01.208 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 12:31:01.208 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 13:50:02.928 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 8945 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:50:02.929 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:50:02.930 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:50:09.273 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 7.041 seconds (process running for 8.504)
2024-07-27 13:50:10.201 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 8945 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:50:10.202 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:50:10.202 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:50:11.141 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.97 seconds (process running for 10.372)
2024-07-27 13:50:12.077 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 13:50:12.084 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 13:50:12.085 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 13:50:12.085 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 13:50:12.086 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 13:50:12.086 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 13:50:12.114 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 13:50:12.115 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 13:50:12.116 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 13:50:12.125 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 13:50:12.126 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 13:50:12.127 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 13:50:12.128 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 13:50:12.128 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 13:50:12.129 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 13:50:12.137 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 13:50:12.137 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 13:50:12.138 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 13:50:12.138 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 13:50:12.138 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 13:50:12.138 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 13:50:12.138 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 13:50:12.145 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 13:50:12.146 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 13:50:12.146 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 13:50:12.146 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 13:50:12.147 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 13:50:12.147 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 13:50:12.276 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 8945 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:50:12.277 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:50:12.277 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:50:18.779 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:50:18.848 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Started AuthIntegrationTest in 6.632 seconds (process running for 18.079)
2024-07-27 13:50:19.314 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 8945 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:50:19.315 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:50:19.315 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:50:19.627 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:50:19.636 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.337 seconds (process running for 18.868)
2024-07-27 13:50:19.788 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 8945 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:50:19.788 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:50:19.788 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:50:20.133 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:50:20.143 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.368 seconds (process running for 19.374)
2024-07-27 13:50:20.201 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 8945 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:50:20.201 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:50:20.201 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:50:20.523 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:50:20.530 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.342 seconds (process running for 19.762)
2024-07-27 13:50:20.630 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 8945 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:50:20.630 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:50:20.630 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:50:20.945 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:50:20.953 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.335 seconds (process running for 20.185)
2024-07-27 13:50:21.018 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 8945 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:50:21.018 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:50:21.019 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:50:21.388 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:50:21.396 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.392 seconds (process running for 20.627)
2024-07-27 13:50:21.494 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 8945 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:50:21.494 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:50:21.495 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:50:24.031 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Started FinalProjectApplicationTests in 2.548 seconds (process running for 23.263)
2024-07-27 13:50:24.336 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 13:50:24.337 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 13:50:24.337 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 13:50:24.338 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 13:50:24.339 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 13:50:24.343 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 13:50:24.344 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 13:50:24.344 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 13:50:24.347 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 13:50:24.347 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 13:50:24.347 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 13:50:24.350 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 13:50:24.350 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 13:50:24.354 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 13:50:24.354 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 13:50:24.354 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 13:50:24.355 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 13:50:24.355 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 13:50:24.471 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 13:50:24.471 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 13:50:24.471 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 13:50:24.474 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 13:50:24.474 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 13:50:24.477 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 13:50:24.481 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 13:50:24.481 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 13:50:24.484 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 13:50:24.484 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 13:50:24.486 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 13:50:24.486 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 13:50:24.489 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 13:50:24.489 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 13:50:24.666 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 13:50:24.666 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 13:50:24.670 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 13:50:24.671 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 13:50:24.673 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 13:50:24.676 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 13:50:24.679 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 13:50:25.000 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:50:25.001 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:50:25.050 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 13:50:25.050 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:50:25.051 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:50:25.051 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 13:50:25.054 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:50:25.054 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:50:25.054 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:50:25.055 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:50:25.055 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 13:50:25.055 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:50:25.055 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:50:25.055 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 13:50:25.058 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:50:25.058 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:50:25.059 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 13:50:25.059 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:50:25.059 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:50:25.060 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 13:50:25.060 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 13:50:25.064 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:50:25.064 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:50:25.064 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 13:50:25.064 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:50:25.065 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:50:25.069 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:50:25.069 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:50:25.069 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 13:50:25.070 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:50:25.070 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:50:25.070 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 13:50:25.073 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:50:25.074 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:50:25.075 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 13:50:25.075 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:50:25.075 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:50:25.075 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 13:50:25.148 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 13:50:25.149 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 13:50:25.151 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 13:50:25.151 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 13:50:25.153 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 13:50:25.154 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 13:50:25.157 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 13:50:25.157 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 13:50:25.160 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 13:50:25.160 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 13:50:59.486 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 9031 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:50:59.487 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:50:59.488 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:51:05.430 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.685 seconds (process running for 8.047)
2024-07-27 13:51:06.291 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 9031 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:51:06.291 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:51:06.292 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:51:06.901 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.626 seconds (process running for 9.517)
2024-07-27 13:51:07.955 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 13:51:07.963 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 13:51:07.964 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 13:51:07.965 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 13:51:07.965 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 13:51:07.966 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 13:51:07.995 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 13:51:07.996 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 13:51:07.996 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 13:51:08.003 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 13:51:08.004 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 13:51:08.005 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 13:51:08.006 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 13:51:08.006 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 13:51:08.007 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 13:51:08.014 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 13:51:08.014 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 13:51:08.015 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 13:51:08.015 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 13:51:08.015 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 13:51:08.016 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 13:51:08.016 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 13:51:08.024 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 13:51:08.024 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 13:51:08.024 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 13:51:08.025 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 13:51:08.025 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 13:51:08.025 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 13:51:08.164 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 9031 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:51:08.164 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:51:08.165 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:51:11.945 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 9031 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:51:11.946 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:51:11.946 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:51:13.012 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:51:13.049 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 1.14 seconds (process running for 15.665)
2024-07-27 13:51:13.996 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 9031 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:51:13.997 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:51:13.997 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:51:14.507 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:51:14.523 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.544 seconds (process running for 17.14)
2024-07-27 13:51:14.600 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 9031 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:51:14.601 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:51:14.601 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:51:15.096 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:51:15.106 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.523 seconds (process running for 17.723)
2024-07-27 13:51:15.242 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 9031 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:51:15.242 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:51:15.243 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:51:15.628 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:51:15.637 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.41 seconds (process running for 18.254)
2024-07-27 13:51:15.711 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 9031 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:51:15.711 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:51:15.711 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:51:16.065 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:51:16.072 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.375 seconds (process running for 18.689)
2024-07-27 13:51:16.199 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 9031 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:51:16.199 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:51:16.199 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:51:17.991 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 13:51:17.992 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 13:51:17.992 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 13:51:17.994 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 13:51:17.994 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 13:51:17.998 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 13:51:17.998 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 13:51:17.998 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 13:51:18.001 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 13:51:18.001 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 13:51:18.001 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 13:51:18.004 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 13:51:18.004 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 13:51:18.009 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 13:51:18.009 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 13:51:18.010 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 13:51:18.010 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 13:51:18.010 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 13:51:18.146 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 13:51:18.147 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 13:51:18.147 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 13:51:18.150 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 13:51:18.150 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 13:51:18.153 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 13:51:18.156 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 13:51:18.157 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 13:51:18.159 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 13:51:18.159 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 13:51:18.161 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 13:51:18.161 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 13:51:18.164 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 13:51:18.164 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 13:51:18.356 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 13:51:18.357 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 13:51:18.359 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 13:51:18.360 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 13:51:18.362 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 13:51:18.365 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 13:51:18.368 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 13:51:18.692 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:51:18.693 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:51:18.755 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 13:51:18.755 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:51:18.755 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:51:18.755 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 13:51:18.759 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:51:18.760 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:51:18.760 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:51:18.760 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:51:18.760 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 13:51:18.760 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:51:18.761 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:51:18.761 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 13:51:18.764 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:51:18.764 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:51:18.765 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 13:51:18.765 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:51:18.765 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:51:18.765 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 13:51:18.766 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 13:51:18.769 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:51:18.769 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:51:18.770 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 13:51:18.770 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:51:18.771 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:51:18.774 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:51:18.774 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:51:18.775 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 13:51:18.775 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:51:18.775 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:51:18.775 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 13:51:18.778 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:51:18.779 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:51:18.779 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 13:51:18.779 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:51:18.780 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:51:18.780 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 13:51:18.862 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 13:51:18.862 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 13:51:18.865 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 13:51:18.865 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 13:51:18.869 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 13:51:18.869 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 13:51:18.871 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 13:51:18.872 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 13:51:18.874 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 13:51:18.875 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 13:55:30.313 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 9121 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:55:30.315 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:55:30.316 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:55:36.071 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.543 seconds (process running for 7.872)
2024-07-27 13:55:36.912 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 9121 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:55:36.912 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:55:36.912 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:55:37.762 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.867 seconds (process running for 9.563)
2024-07-27 13:55:38.782 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 13:55:38.789 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 13:55:38.789 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 13:55:38.790 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 13:55:38.790 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 13:55:38.790 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 13:55:38.808 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 13:55:38.809 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 13:55:38.810 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 13:55:38.817 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 13:55:38.817 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 13:55:38.818 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 13:55:38.818 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 13:55:38.818 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 13:55:38.818 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 13:55:38.827 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 13:55:38.828 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 13:55:38.828 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 13:55:38.829 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 13:55:38.829 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 13:55:38.830 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 13:55:38.831 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 13:55:38.839 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 13:55:38.839 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 13:55:38.840 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 13:55:38.840 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 13:55:38.840 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 13:55:38.841 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 13:55:38.988 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 9121 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:55:38.989 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:55:38.989 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:55:45.363 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:55:45.436 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Started AuthIntegrationTest in 6.507 seconds (process running for 17.237)
2024-07-27 13:55:45.916 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 9121 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:55:45.917 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:55:45.917 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:55:46.210 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:55:46.218 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.315 seconds (process running for 18.019)
2024-07-27 13:55:46.384 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 9121 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:55:46.384 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:55:46.384 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:55:46.744 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:55:46.754 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.386 seconds (process running for 18.556)
2024-07-27 13:55:46.812 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 9121 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:55:46.812 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:55:46.812 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:55:47.115 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:55:47.123 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.323 seconds (process running for 18.925)
2024-07-27 13:55:47.233 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 9121 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:55:47.233 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:55:47.234 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:55:47.551 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:55:47.558 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.336 seconds (process running for 19.36)
2024-07-27 13:55:47.625 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 9121 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:55:47.626 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:55:47.626 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:55:47.949 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 13:55:47.959 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.346 seconds (process running for 19.761)
2024-07-27 13:55:48.167 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 9121 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 13:55:48.167 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 13:55:48.167 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 13:55:50.314 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Started FinalProjectApplicationTests in 2.163 seconds (process running for 22.116)
2024-07-27 13:55:50.579 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 13:55:50.580 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 13:55:50.580 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 13:55:50.582 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 13:55:50.582 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 13:55:50.586 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 13:55:50.587 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 13:55:50.587 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 13:55:50.591 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 13:55:50.591 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 13:55:50.592 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 13:55:50.595 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 13:55:50.596 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 13:55:50.599 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 13:55:50.599 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 13:55:50.599 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 13:55:50.600 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 13:55:50.600 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 13:55:50.712 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 13:55:50.712 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 13:55:50.712 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 13:55:50.715 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 13:55:50.716 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 13:55:50.719 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 13:55:50.721 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 13:55:50.722 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 13:55:50.724 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 13:55:50.724 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 13:55:50.726 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 13:55:50.726 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 13:55:50.729 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 13:55:50.729 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 13:55:50.864 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 13:55:50.864 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 13:55:50.867 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 13:55:50.868 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 13:55:50.870 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 13:55:50.873 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 13:55:50.878 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 13:55:51.137 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:55:51.138 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:55:51.194 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 13:55:51.194 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:55:51.194 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:55:51.194 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 13:55:51.198 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:55:51.198 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:55:51.199 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:55:51.199 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:55:51.199 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 13:55:51.199 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:55:51.199 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:55:51.200 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 13:55:51.202 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:55:51.202 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:55:51.203 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 13:55:51.203 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:55:51.203 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:55:51.203 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 13:55:51.204 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 13:55:51.207 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:55:51.207 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:55:51.208 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 13:55:51.208 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:55:51.208 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:55:51.212 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:55:51.212 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:55:51.212 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 13:55:51.212 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:55:51.213 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:55:51.213 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 13:55:51.216 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:55:51.216 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:55:51.217 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 13:55:51.217 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 13:55:51.218 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 13:55:51.218 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 13:55:51.283 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 13:55:51.284 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 13:55:51.286 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 13:55:51.287 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 13:55:51.289 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 13:55:51.290 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 13:55:51.293 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 13:55:51.294 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 13:55:51.297 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 13:55:51.298 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 14:19:24.237 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 9618 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:19:24.243 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:19:24.244 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:19:30.191 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.716 seconds (process running for 8.112)
2024-07-27 14:19:30.915 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 9618 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:19:30.916 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:19:30.916 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:19:31.682 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.792 seconds (process running for 9.603)
2024-07-27 14:19:32.810 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 14:19:32.816 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 14:19:32.817 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:19:32.818 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:19:32.819 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:19:32.819 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 14:19:32.840 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:19:32.841 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 14:19:32.841 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 14:19:32.848 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:19:32.849 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 14:19:32.850 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:19:32.851 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:19:32.851 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:19:32.852 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 14:19:32.861 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 14:19:32.861 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 14:19:32.862 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:19:32.862 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:19:32.862 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:19:32.863 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 14:19:32.863 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 14:19:32.871 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 14:19:32.871 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 14:19:32.872 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:19:32.872 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:19:32.873 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:19:32.873 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 14:19:32.995 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 9618 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:19:32.995 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:19:32.995 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:19:36.443 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 9618 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:19:36.443 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:19:36.443 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:19:37.341 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:19:37.370 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.958 seconds (process running for 15.291)
2024-07-27 14:19:37.815 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 9618 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:19:37.816 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:19:37.816 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:19:38.172 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:19:38.181 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.379 seconds (process running for 16.102)
2024-07-27 14:19:38.258 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 9618 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:19:38.258 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:19:38.258 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:19:38.569 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:19:38.575 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.333 seconds (process running for 16.496)
2024-07-27 14:19:38.701 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 9618 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:19:38.702 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:19:38.702 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:19:38.992 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:19:38.999 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.317 seconds (process running for 16.92)
2024-07-27 14:19:39.067 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 9618 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:19:39.067 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:19:39.067 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:19:39.502 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:19:39.516 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.461 seconds (process running for 17.437)
2024-07-27 14:19:39.739 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 9618 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:19:39.740 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:19:39.740 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:19:41.909 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:19:41.910 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:19:41.911 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:19:41.914 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 14:19:41.915 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:19:41.922 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 14:19:41.923 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:19:41.924 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 14:19:41.928 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:19:41.928 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:19:41.929 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 14:19:41.933 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:19:41.933 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 14:19:41.938 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:19:41.939 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:19:41.939 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:19:41.939 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 14:19:41.939 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:19:42.141 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:19:42.141 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 14:19:42.142 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 14:19:42.145 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:19:42.146 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 14:19:42.151 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:19:42.157 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:19:42.157 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 14:19:42.161 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:19:42.161 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 14:19:42.165 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:19:42.165 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 14:19:42.169 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:19:42.170 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 14:19:42.392 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:19:42.394 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 14:19:42.398 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:19:42.400 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 14:19:42.405 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:19:42.408 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 14:19:42.412 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 14:19:42.838 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:19:42.838 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:19:42.917 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:19:42.917 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:19:42.918 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:19:42.918 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 14:19:42.924 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:19:42.924 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:19:42.925 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:19:42.925 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:19:42.926 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:19:42.926 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:19:42.926 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:19:42.927 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 14:19:42.931 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:19:42.931 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:19:42.933 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 14:19:42.933 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:19:42.934 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:19:42.934 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 14:19:42.935 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 14:19:42.940 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:19:42.941 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:19:42.942 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:19:42.942 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:19:42.942 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:19:42.948 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:19:42.949 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:19:42.950 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:19:42.950 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:19:42.950 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:19:42.951 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 14:19:42.955 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:19:42.956 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:19:42.957 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:19:42.957 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:19:42.958 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:19:42.958 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 14:19:43.074 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 14:19:43.075 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 14:19:43.079 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 14:19:43.080 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 14:19:43.084 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 14:19:43.085 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 14:19:43.090 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 14:19:43.091 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 14:19:43.097 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 14:19:43.098 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 14:21:30.617 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 9661 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:21:30.618 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:21:30.620 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:21:36.774 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 7.023 seconds (process running for 8.582)
2024-07-27 14:21:37.590 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 9661 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:21:37.590 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:21:37.590 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:21:38.329 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.769 seconds (process running for 10.137)
2024-07-27 14:21:39.396 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 14:21:39.403 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 14:21:39.404 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:21:39.405 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:21:39.406 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:21:39.406 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 14:21:39.431 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:21:39.432 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 14:21:39.432 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 14:21:39.444 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:21:39.444 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 14:21:39.445 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:21:39.446 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:21:39.446 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:21:39.447 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 14:21:39.457 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 14:21:39.457 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 14:21:39.458 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:21:39.458 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:21:39.458 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:21:39.459 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 14:21:39.459 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 14:21:39.468 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 14:21:39.468 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 14:21:39.469 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:21:39.469 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:21:39.470 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:21:39.470 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 14:21:39.621 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 9661 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:21:39.622 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:21:39.622 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:21:42.855 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 9661 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:21:42.856 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:21:42.856 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:21:43.743 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:21:43.773 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.953 seconds (process running for 15.581)
2024-07-27 14:21:44.226 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 9661 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:21:44.226 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:21:44.226 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:21:44.596 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:21:44.604 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.396 seconds (process running for 16.413)
2024-07-27 14:21:44.691 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 9661 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:21:44.691 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:21:44.692 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:21:45.036 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:21:45.043 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.372 seconds (process running for 16.852)
2024-07-27 14:21:45.180 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 9661 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:21:45.180 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:21:45.180 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:21:45.504 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:21:45.510 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.35 seconds (process running for 17.319)
2024-07-27 14:21:45.579 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 9661 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:21:45.579 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:21:45.580 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:21:45.910 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:21:45.919 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.352 seconds (process running for 17.728)
2024-07-27 14:21:46.068 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 9661 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:21:46.068 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:21:46.068 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:21:47.863 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:21:47.863 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:21:47.864 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:21:47.866 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 14:21:47.866 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:21:47.870 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 14:21:47.870 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:21:47.871 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 14:21:47.874 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:21:47.875 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:21:47.875 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 14:21:47.878 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:21:47.878 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 14:21:47.882 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:21:47.883 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:21:47.883 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:21:47.883 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 14:21:47.883 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:21:48.023 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:21:48.024 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 14:21:48.024 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 14:21:48.028 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:21:48.029 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 14:21:48.031 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:21:48.034 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:21:48.034 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 14:21:48.038 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:21:48.038 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 14:21:48.041 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:21:48.042 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 14:21:48.044 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:21:48.044 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 14:21:48.230 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:21:48.231 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 14:21:48.233 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:21:48.233 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 14:21:48.236 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:21:48.240 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 14:21:48.245 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 14:21:48.550 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:21:48.550 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:21:48.610 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:21:48.610 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:21:48.610 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:21:48.610 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 14:21:48.614 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:21:48.614 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:21:48.614 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:21:48.615 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:21:48.615 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:21:48.615 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:21:48.615 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:21:48.615 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 14:21:48.617 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:21:48.618 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:21:48.619 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 14:21:48.619 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:21:48.620 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:21:48.620 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 14:21:48.621 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 14:21:48.625 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:21:48.626 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:21:48.626 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:21:48.626 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:21:48.626 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:21:48.630 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:21:48.631 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:21:48.631 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:21:48.631 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:21:48.631 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:21:48.632 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 14:21:48.634 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:21:48.635 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:21:48.635 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:21:48.635 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:21:48.636 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:21:48.636 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 14:21:48.715 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 14:21:48.716 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 14:21:48.718 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 14:21:48.719 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 14:21:48.721 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 14:21:48.721 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 14:21:48.723 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 14:21:48.724 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 14:21:48.726 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 14:21:48.726 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 14:22:42.847 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 9692 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:22:42.848 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:22:42.849 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:22:48.284 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.148 seconds (process running for 7.509)
2024-07-27 14:22:48.984 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 9692 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:22:48.984 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:22:48.984 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:22:49.661 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.699 seconds (process running for 8.886)
2024-07-27 14:22:50.519 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 14:22:50.524 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 14:22:50.525 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:22:50.525 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:22:50.526 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:22:50.526 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 14:22:50.545 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:22:50.546 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 14:22:50.546 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 14:22:50.552 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:22:50.553 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 14:22:50.553 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:22:50.554 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:22:50.554 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:22:50.554 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 14:22:50.561 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 14:22:50.562 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 14:22:50.562 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:22:50.562 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:22:50.562 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:22:50.563 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 14:22:50.564 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 14:22:50.570 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 14:22:50.571 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 14:22:50.571 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:22:50.572 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:22:50.572 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:22:50.572 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 14:22:50.686 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 9692 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:22:50.686 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:22:50.687 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:22:56.656 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:22:56.732 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Started AuthIntegrationTest in 6.094 seconds (process running for 15.957)
2024-07-27 14:22:57.322 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 9692 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:22:57.324 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:22:57.324 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:22:57.773 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:22:57.782 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.485 seconds (process running for 17.007)
2024-07-27 14:22:57.986 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 9692 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:22:57.986 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:22:57.986 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:22:58.390 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:22:58.397 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.434 seconds (process running for 17.623)
2024-07-27 14:22:58.484 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 9692 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:22:58.484 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:22:58.484 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:22:58.925 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:22:58.933 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.47 seconds (process running for 18.159)
2024-07-27 14:22:59.111 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 9692 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:22:59.111 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:22:59.111 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:22:59.518 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:22:59.526 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.438 seconds (process running for 18.752)
2024-07-27 14:22:59.704 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 9692 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:22:59.704 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:22:59.705 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:23:00.049 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:23:00.059 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.379 seconds (process running for 19.285)
2024-07-27 14:23:00.222 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 9692 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:23:00.222 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:23:00.222 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:23:02.865 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Started FinalProjectApplicationTests in 2.661 seconds (process running for 22.091)
2024-07-27 14:23:03.317 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:23:03.318 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:23:03.319 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:23:03.323 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 14:23:03.323 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:23:03.329 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 14:23:03.330 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:23:03.330 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 14:23:03.334 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:23:03.334 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:23:03.335 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 14:23:03.339 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:23:03.340 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 14:23:03.346 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:23:03.346 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:23:03.346 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:23:03.346 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 14:23:03.347 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:23:03.523 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:23:03.524 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 14:23:03.524 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 14:23:03.528 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:23:03.529 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 14:23:03.533 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:23:03.537 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:23:03.537 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 14:23:03.540 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:23:03.541 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 14:23:03.544 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:23:03.545 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 14:23:03.549 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:23:03.550 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 14:23:03.776 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:23:03.777 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 14:23:03.781 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:23:03.782 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 14:23:03.785 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:23:03.790 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 14:23:03.794 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 14:23:04.106 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:23:04.106 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:23:04.157 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:23:04.157 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:23:04.158 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:23:04.158 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 14:23:04.161 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:23:04.161 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:23:04.162 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:23:04.162 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:23:04.162 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:23:04.162 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:23:04.163 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:23:04.163 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 14:23:04.165 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:23:04.166 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:23:04.166 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 14:23:04.166 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:23:04.167 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:23:04.167 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 14:23:04.167 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 14:23:04.170 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:23:04.171 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:23:04.171 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:23:04.171 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:23:04.172 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:23:04.174 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:23:04.175 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:23:04.175 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:23:04.175 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:23:04.175 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:23:04.176 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 14:23:04.178 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:23:04.178 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:23:04.179 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:23:04.179 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:23:04.179 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:23:04.179 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 14:23:04.255 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 14:23:04.256 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 14:23:04.258 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 14:23:04.259 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 14:23:04.261 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 14:23:04.261 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 14:23:04.264 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 14:23:04.264 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 14:23:04.268 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 14:23:04.268 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 14:31:17.127 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 9919 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:31:17.129 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:31:17.129 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:31:23.015 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.755 seconds (process running for 8.057)
2024-07-27 14:31:23.732 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 9919 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:31:23.732 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:31:23.732 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:31:24.457 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.745 seconds (process running for 9.499)
2024-07-27 14:31:25.636 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 14:31:25.642 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 14:31:25.642 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:31:25.643 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:31:25.643 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:31:25.643 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 14:31:25.664 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:31:25.665 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 14:31:25.665 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 14:31:25.673 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:31:25.673 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 14:31:25.674 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:31:25.675 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:31:25.675 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:31:25.675 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 14:31:25.683 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 14:31:25.684 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 14:31:25.684 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:31:25.685 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:31:25.685 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:31:25.685 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 14:31:25.686 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 14:31:25.694 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 14:31:25.694 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 14:31:25.695 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:31:25.695 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:31:25.695 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:31:25.695 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 14:31:25.830 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 9919 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:31:25.831 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:31:25.831 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:31:32.676 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:31:32.743 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Started AuthIntegrationTest in 6.974 seconds (process running for 17.786)
2024-07-27 14:31:33.135 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 9919 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:31:33.136 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:31:33.136 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:31:33.397 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:31:33.403 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.283 seconds (process running for 18.445)
2024-07-27 14:31:33.565 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 9919 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:31:33.565 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:31:33.565 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:31:33.864 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:31:33.870 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.324 seconds (process running for 18.912)
2024-07-27 14:31:33.918 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 9919 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:31:33.918 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:31:33.919 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:31:34.182 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:31:34.190 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.282 seconds (process running for 19.232)
2024-07-27 14:31:34.298 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 9919 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:31:34.298 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:31:34.298 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:31:34.654 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:31:34.662 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.382 seconds (process running for 19.705)
2024-07-27 14:31:34.734 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 9919 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:31:34.734 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:31:34.734 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:31:34.978 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:31:34.982 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.259 seconds (process running for 20.025)
2024-07-27 14:31:35.077 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 9919 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:31:35.077 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:31:35.077 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:31:36.960 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Started FinalProjectApplicationTests in 1.891 seconds (process running for 22.002)
2024-07-27 14:31:37.260 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:31:37.261 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:31:37.262 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:31:37.264 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 14:31:37.264 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:31:37.268 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 14:31:37.269 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:31:37.269 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 14:31:37.273 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:31:37.274 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:31:37.274 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 14:31:37.278 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:31:37.279 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 14:31:37.283 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:31:37.283 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:31:37.283 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:31:37.283 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 14:31:37.283 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:31:37.401 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:31:37.401 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 14:31:37.401 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 14:31:37.405 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:31:37.405 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 14:31:37.408 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:31:37.413 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:31:37.413 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 14:31:37.416 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:31:37.416 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 14:31:37.419 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:31:37.419 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 14:31:37.422 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:31:37.422 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 14:31:37.574 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:31:37.575 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 14:31:37.579 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:31:37.580 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 14:31:37.583 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:31:37.586 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 14:31:37.590 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 14:31:37.866 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:31:37.866 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:31:37.914 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:31:37.914 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:31:37.915 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:31:37.915 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 14:31:37.918 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:31:37.919 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:31:37.919 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:31:37.919 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:31:37.920 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:31:37.920 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:31:37.920 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:31:37.920 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 14:31:37.923 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:31:37.924 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:31:37.924 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 14:31:37.924 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:31:37.925 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:31:37.925 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 14:31:37.926 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 14:31:37.928 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:31:37.929 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:31:37.929 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:31:37.929 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:31:37.929 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:31:37.932 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:31:37.933 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:31:37.933 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:31:37.933 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:31:37.934 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:31:37.934 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 14:31:37.937 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:31:37.937 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:31:37.938 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:31:37.938 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:31:37.938 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:31:37.938 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 14:31:38.007 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 14:31:38.007 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 14:31:38.010 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 14:31:38.011 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 14:31:38.013 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 14:31:38.014 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 14:31:38.016 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 14:31:38.017 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 14:31:38.020 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 14:31:38.020 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 14:35:49.761 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 10048 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:35:49.763 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:35:49.763 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:35:55.676 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.675 seconds (process running for 7.949)
2024-07-27 14:35:56.486 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 10048 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:35:56.487 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:35:56.487 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:35:57.295 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.839 seconds (process running for 9.568)
2024-07-27 14:35:58.352 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 14:35:58.358 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 14:35:58.359 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:35:58.359 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:35:58.360 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:35:58.360 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 14:35:58.381 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:35:58.382 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 14:35:58.382 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 14:35:58.389 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:35:58.390 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 14:35:58.391 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:35:58.391 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:35:58.391 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:35:58.391 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 14:35:58.399 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 14:35:58.400 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 14:35:58.400 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:35:58.401 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:35:58.401 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:35:58.401 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 14:35:58.402 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 14:35:58.410 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 14:35:58.410 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 14:35:58.410 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:35:58.411 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:35:58.411 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:35:58.411 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 14:35:58.548 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 10048 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:35:58.548 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:35:58.548 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:36:01.910 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 10048 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:36:01.911 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:36:01.911 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:36:02.800 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:36:02.828 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.949 seconds (process running for 15.101)
2024-07-27 14:36:03.269 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 10048 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:36:03.269 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:36:03.270 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:36:03.625 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:36:03.632 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.375 seconds (process running for 15.905)
2024-07-27 14:36:03.706 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 10048 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:36:03.706 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:36:03.706 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:36:04.024 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:36:04.030 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.341 seconds (process running for 16.303)
2024-07-27 14:36:04.154 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 10048 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:36:04.155 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:36:04.155 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:36:04.439 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:36:04.446 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.308 seconds (process running for 16.72)
2024-07-27 14:36:04.520 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 10048 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:36:04.521 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:36:04.521 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:36:04.832 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:36:04.839 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.33 seconds (process running for 17.112)
2024-07-27 14:36:04.963 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 10048 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:36:04.964 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:36:04.964 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:36:06.793 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:36:06.794 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:36:06.794 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:36:06.796 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 14:36:06.796 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:36:06.800 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 14:36:06.801 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:36:06.802 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 14:36:06.804 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:36:06.805 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:36:06.805 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 14:36:06.808 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:36:06.808 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 14:36:06.813 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:36:06.813 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:36:06.813 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:36:06.813 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 14:36:06.813 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:36:06.953 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:36:06.954 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 14:36:06.954 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 14:36:06.957 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:36:06.958 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 14:36:06.960 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:36:06.963 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:36:06.964 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 14:36:06.966 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:36:06.967 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 14:36:06.969 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:36:06.969 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 14:36:06.971 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:36:06.971 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 14:36:07.149 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:36:07.150 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 14:36:07.154 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:36:07.154 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 14:36:07.157 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:36:07.161 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 14:36:07.165 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 14:36:07.526 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:36:07.527 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:36:07.588 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:36:07.588 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:36:07.589 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:36:07.589 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 14:36:07.592 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:36:07.592 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:36:07.593 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:36:07.593 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:36:07.593 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:36:07.593 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:36:07.594 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:36:07.594 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 14:36:07.597 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:36:07.597 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:36:07.598 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 14:36:07.598 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:36:07.598 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:36:07.598 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 14:36:07.599 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 14:36:07.602 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:36:07.602 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:36:07.603 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:36:07.603 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:36:07.603 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:36:07.607 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:36:07.607 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:36:07.607 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:36:07.607 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:36:07.608 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:36:07.609 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 14:36:07.612 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:36:07.612 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:36:07.613 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:36:07.613 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:36:07.613 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:36:07.613 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 14:36:07.700 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 14:36:07.702 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 14:36:07.705 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 14:36:07.705 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 14:36:07.708 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 14:36:07.708 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 14:36:07.710 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 14:36:07.711 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 14:36:07.715 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 14:36:07.715 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 14:36:50.101 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 10088 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:36:50.102 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:36:50.103 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:36:56.004 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.682 seconds (process running for 8.009)
2024-07-27 14:36:56.801 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 10088 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:36:56.802 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:36:56.802 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:36:57.600 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.829 seconds (process running for 9.605)
2024-07-27 14:36:58.595 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 14:36:58.600 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 14:36:58.601 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:36:58.602 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:36:58.603 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:36:58.604 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 14:36:58.628 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:36:58.629 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 14:36:58.629 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 14:36:58.640 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:36:58.640 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 14:36:58.641 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:36:58.642 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:36:58.642 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:36:58.642 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 14:36:58.651 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 14:36:58.652 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 14:36:58.653 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:36:58.654 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:36:58.654 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:36:58.654 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 14:36:58.654 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 14:36:58.662 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 14:36:58.662 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 14:36:58.663 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:36:58.663 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:36:58.663 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:36:58.663 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 14:36:58.824 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 10088 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:36:58.824 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:36:58.825 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:37:02.283 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 10088 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:37:02.283 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:37:02.283 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:37:03.135 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:37:03.158 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.913 seconds (process running for 15.163)
2024-07-27 14:37:03.593 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 10088 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:37:03.593 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:37:03.593 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:37:03.927 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:37:03.940 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.36 seconds (process running for 15.945)
2024-07-27 14:37:04.003 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 10088 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:37:04.003 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:37:04.003 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:37:04.288 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:37:04.294 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.304 seconds (process running for 16.299)
2024-07-27 14:37:04.393 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 10088 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:37:04.393 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:37:04.394 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:37:04.671 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:37:04.678 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.295 seconds (process running for 16.682)
2024-07-27 14:37:04.779 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 10088 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:37:04.779 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:37:04.779 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:37:05.066 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:37:05.072 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.307 seconds (process running for 17.077)
2024-07-27 14:37:05.200 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 10088 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:37:05.200 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:37:05.200 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:37:06.999 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:37:07.000 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:37:07.000 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:37:07.001 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 14:37:07.002 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:37:07.006 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 14:37:07.006 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:37:07.007 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 14:37:07.010 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:37:07.011 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:37:07.011 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 14:37:07.014 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:37:07.014 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 14:37:07.018 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:37:07.019 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:37:07.019 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:37:07.019 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 14:37:07.019 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:37:07.167 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:37:07.168 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 14:37:07.168 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 14:37:07.171 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:37:07.172 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 14:37:07.174 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:37:07.178 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:37:07.178 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 14:37:07.180 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:37:07.181 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 14:37:07.183 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:37:07.183 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 14:37:07.186 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:37:07.186 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 14:37:07.367 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:37:07.367 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 14:37:07.370 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:37:07.370 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 14:37:07.372 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:37:07.375 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 14:37:07.379 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 14:37:07.701 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:07.702 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:07.762 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:37:07.763 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:07.763 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:07.763 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 14:37:07.766 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:07.767 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:07.767 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:07.767 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:07.767 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:37:07.767 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:07.768 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:07.768 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 14:37:07.770 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:07.770 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:07.771 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 14:37:07.771 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:07.772 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:07.772 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 14:37:07.773 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 14:37:07.777 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:07.777 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:07.777 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:37:07.777 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:07.778 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:07.781 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:07.781 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:07.782 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:37:07.782 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:07.782 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:07.783 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 14:37:07.786 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:07.786 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:07.787 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:37:07.787 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:07.787 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:07.787 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 14:37:07.866 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 14:37:07.867 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 14:37:07.871 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 14:37:07.871 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 14:37:07.874 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 14:37:07.875 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 14:37:07.878 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 14:37:07.878 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 14:37:07.881 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 14:37:07.881 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 14:37:36.284 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 10099 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:37:36.286 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:37:36.286 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:37:41.773 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.156 seconds (process running for 7.492)
2024-07-27 14:37:42.515 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 10099 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:37:42.515 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:37:42.515 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:37:43.206 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.718 seconds (process running for 8.926)
2024-07-27 14:37:44.054 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 14:37:44.060 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 14:37:44.061 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:37:44.061 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:37:44.062 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:37:44.062 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 14:37:44.085 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:37:44.086 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 14:37:44.087 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 14:37:44.095 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:37:44.095 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 14:37:44.096 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:37:44.096 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:37:44.097 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:37:44.097 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 14:37:44.106 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 14:37:44.106 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 14:37:44.107 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:37:44.107 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:37:44.107 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:37:44.107 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 14:37:44.108 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 14:37:44.117 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 14:37:44.118 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 14:37:44.118 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:37:44.118 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:37:44.119 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:37:44.119 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 14:37:44.242 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 10099 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:37:44.242 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:37:44.242 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:37:47.455 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 10099 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:37:47.455 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:37:47.455 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:37:48.250 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:37:48.281 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.867 seconds (process running for 14.001)
2024-07-27 14:37:48.708 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 10099 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:37:48.709 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:37:48.709 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:37:49.026 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:37:49.033 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.343 seconds (process running for 14.752)
2024-07-27 14:37:49.096 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 10099 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:37:49.096 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:37:49.096 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:37:49.351 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:37:49.357 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.279 seconds (process running for 15.076)
2024-07-27 14:37:49.464 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 10099 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:37:49.464 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:37:49.464 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:37:49.716 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:37:49.721 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.269 seconds (process running for 15.441)
2024-07-27 14:37:49.788 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 10099 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:37:49.788 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:37:49.788 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:37:50.062 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:37:50.068 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.289 seconds (process running for 15.787)
2024-07-27 14:37:50.163 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 10099 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:37:50.163 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:37:50.164 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:37:51.876 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:37:51.877 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:37:51.877 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:37:51.878 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 14:37:51.878 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:37:51.882 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 14:37:51.883 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:37:51.883 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 14:37:51.886 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:37:51.886 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:37:51.886 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 14:37:51.890 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:37:51.890 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 14:37:51.894 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:37:51.894 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:37:51.894 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:37:51.894 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 14:37:51.894 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:37:52.047 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:37:52.048 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 14:37:52.048 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 14:37:52.051 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:37:52.051 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 14:37:52.054 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:37:52.058 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:37:52.058 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 14:37:52.060 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:37:52.061 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 14:37:52.063 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:37:52.064 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 14:37:52.066 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:37:52.066 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 14:37:52.233 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:37:52.233 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 14:37:52.236 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:37:52.236 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 14:37:52.239 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:37:52.243 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 14:37:52.245 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 14:37:52.567 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:52.568 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:52.630 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:37:52.631 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:52.631 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:52.631 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 14:37:52.635 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:52.635 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:52.636 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:52.636 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:52.637 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:37:52.637 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:52.637 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:52.638 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 14:37:52.640 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:52.641 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:52.642 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 14:37:52.642 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:52.642 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:52.643 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 14:37:52.643 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 14:37:52.647 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:52.647 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:52.648 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:37:52.648 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:52.648 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:52.653 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:52.654 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:52.654 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:37:52.654 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:52.655 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:52.655 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 14:37:52.659 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:52.659 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:52.660 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:37:52.660 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:37:52.660 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:37:52.660 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 14:37:52.746 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 14:37:52.747 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 14:37:52.750 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 14:37:52.751 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 14:37:52.755 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 14:37:52.755 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 14:37:52.760 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 14:37:52.760 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 14:37:52.765 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 14:37:52.765 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 14:39:14.980 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 10157 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:39:14.982 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:39:14.983 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:39:20.912 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.679 seconds (process running for 8.216)
2024-07-27 14:39:21.621 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 10157 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:39:21.621 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:39:21.621 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:39:22.272 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.677 seconds (process running for 9.575)
2024-07-27 14:39:23.121 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 14:39:23.126 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 14:39:23.126 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:39:23.127 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:39:23.127 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:39:23.127 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 14:39:23.146 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:39:23.147 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 14:39:23.147 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 14:39:23.154 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:39:23.155 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 14:39:23.155 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:39:23.156 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:39:23.156 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:39:23.156 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 14:39:23.163 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 14:39:23.164 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 14:39:23.165 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:39:23.165 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:39:23.165 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:39:23.166 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 14:39:23.166 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 14:39:23.173 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 14:39:23.173 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 14:39:23.174 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:39:23.174 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:39:23.174 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:39:23.174 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 14:39:23.286 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 10157 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:39:23.286 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:39:23.286 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:39:26.446 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 10157 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:39:26.446 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:39:26.446 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:39:27.309 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:39:27.331 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.926 seconds (process running for 14.635)
2024-07-27 14:39:27.745 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 10157 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:39:27.745 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:39:27.746 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:39:28.091 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:39:28.098 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.369 seconds (process running for 15.402)
2024-07-27 14:39:28.173 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 10157 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:39:28.173 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:39:28.173 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:39:28.485 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:39:28.490 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.332 seconds (process running for 15.794)
2024-07-27 14:39:28.605 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 10157 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:39:28.605 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:39:28.606 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:39:28.902 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:39:28.908 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.319 seconds (process running for 16.212)
2024-07-27 14:39:28.984 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 10157 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:39:28.984 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:39:28.984 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:39:29.260 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:39:29.266 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.3 seconds (process running for 16.57)
2024-07-27 14:39:29.391 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 10157 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:39:29.391 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:39:29.391 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:39:31.179 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:39:31.180 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:39:31.180 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:39:31.182 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 14:39:31.182 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:39:31.186 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 14:39:31.186 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:39:31.187 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 14:39:31.190 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:39:31.191 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:39:31.191 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 14:39:31.193 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:39:31.194 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 14:39:31.198 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:39:31.198 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:39:31.198 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:39:31.198 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 14:39:31.198 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:39:31.336 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:39:31.337 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 14:39:31.337 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 14:39:31.340 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:39:31.341 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 14:39:31.343 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:39:31.345 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:39:31.346 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 14:39:31.349 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:39:31.349 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 14:39:31.351 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:39:31.351 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 14:39:31.353 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:39:31.354 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 14:39:31.519 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:39:31.519 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 14:39:31.522 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:39:31.522 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 14:39:31.524 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:39:31.528 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 14:39:31.530 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 14:39:31.842 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:39:31.842 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:39:31.901 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:39:31.901 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:39:31.901 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:39:31.902 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 14:39:31.904 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:39:31.905 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:39:31.905 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:39:31.905 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:39:31.905 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:39:31.905 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:39:31.906 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:39:31.906 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 14:39:31.908 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:39:31.908 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:39:31.909 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 14:39:31.909 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:39:31.909 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:39:31.909 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 14:39:31.910 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 14:39:31.913 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:39:31.913 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:39:31.914 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:39:31.914 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:39:31.915 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:39:31.919 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:39:31.919 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:39:31.919 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:39:31.919 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:39:31.919 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:39:31.920 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 14:39:31.922 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:39:31.923 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:39:31.923 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:39:31.923 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:39:31.924 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:39:31.924 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 14:39:31.999 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 14:39:31.999 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 14:39:32.002 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 14:39:32.002 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 14:39:32.004 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 14:39:32.005 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 14:39:32.007 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 14:39:32.007 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 14:39:32.010 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 14:39:32.010 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 14:40:40.318 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 10186 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:40:40.320 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:40:40.321 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:40:46.125 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.647 seconds (process running for 8.365)
2024-07-27 14:40:46.800 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 10186 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:40:46.801 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:40:46.801 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:40:47.471 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.695 seconds (process running for 9.711)
2024-07-27 14:40:48.323 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 14:40:48.328 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 14:40:48.328 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:40:48.329 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:40:48.330 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:40:48.331 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 14:40:48.348 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:40:48.348 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 14:40:48.349 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 14:40:48.356 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:40:48.357 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 14:40:48.357 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:40:48.358 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:40:48.358 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:40:48.358 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 14:40:48.367 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 14:40:48.367 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 14:40:48.368 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:40:48.368 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:40:48.368 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:40:48.369 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 14:40:48.369 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 14:40:48.376 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 14:40:48.377 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 14:40:48.377 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:40:48.378 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:40:48.378 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:40:48.379 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 14:40:48.491 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 10186 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:40:48.491 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:40:48.492 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:40:51.743 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 10186 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:40:51.743 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:40:51.743 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:40:52.598 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:40:52.622 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.913 seconds (process running for 14.862)
2024-07-27 14:40:53.035 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 10186 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:40:53.035 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:40:53.035 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:40:53.344 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:40:53.350 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.328 seconds (process running for 15.59)
2024-07-27 14:40:53.408 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 10186 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:40:53.408 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:40:53.409 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:40:53.713 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:40:53.719 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.326 seconds (process running for 15.959)
2024-07-27 14:40:53.828 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 10186 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:40:53.828 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:40:53.828 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:40:54.114 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:40:54.122 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.308 seconds (process running for 16.363)
2024-07-27 14:40:54.202 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 10186 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:40:54.202 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:40:54.202 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:40:54.491 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:40:54.498 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.309 seconds (process running for 16.739)
2024-07-27 14:40:54.613 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 10186 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:40:54.613 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:40:54.613 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:40:56.389 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:40:56.389 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:40:56.390 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:40:56.392 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 14:40:56.392 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:40:56.397 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 14:40:56.397 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:40:56.397 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 14:40:56.400 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:40:56.400 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:40:56.400 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 14:40:56.404 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:40:56.404 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 14:40:56.408 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:40:56.408 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:40:56.408 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:40:56.408 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 14:40:56.409 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:40:56.554 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:40:56.555 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 14:40:56.555 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 14:40:56.558 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:40:56.559 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 14:40:56.561 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:40:56.564 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:40:56.564 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 14:40:56.566 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:40:56.567 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 14:40:56.569 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:40:56.569 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 14:40:56.571 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:40:56.572 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 14:40:56.751 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:40:56.751 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 14:40:56.754 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:40:56.754 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 14:40:56.757 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:40:56.759 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 14:40:56.762 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 14:40:57.082 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:40:57.082 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:40:57.145 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:40:57.145 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:40:57.146 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:40:57.146 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 14:40:57.149 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:40:57.149 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:40:57.150 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:40:57.150 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:40:57.150 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:40:57.150 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:40:57.150 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:40:57.150 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 14:40:57.153 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:40:57.154 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:40:57.155 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 14:40:57.155 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:40:57.155 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:40:57.155 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 14:40:57.156 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 14:40:57.160 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:40:57.161 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:40:57.161 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:40:57.161 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:40:57.161 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:40:57.165 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:40:57.165 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:40:57.166 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:40:57.166 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:40:57.166 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:40:57.166 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 14:40:57.168 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:40:57.169 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:40:57.170 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:40:57.170 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:40:57.170 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:40:57.170 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 14:40:57.249 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 14:40:57.250 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 14:40:57.253 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 14:40:57.253 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 14:40:57.256 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 14:40:57.257 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 14:40:57.259 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 14:40:57.260 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 14:40:57.264 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 14:40:57.264 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 14:42:46.257 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 10232 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:42:46.260 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:42:46.261 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:42:52.005 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.537 seconds (process running for 8.182)
2024-07-27 14:42:52.685 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 10232 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:42:52.685 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:42:52.685 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:42:53.317 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.651 seconds (process running for 9.494)
2024-07-27 14:42:54.112 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 14:42:54.116 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 14:42:54.117 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:42:54.117 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:42:54.118 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:42:54.118 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 14:42:54.135 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:42:54.135 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 14:42:54.135 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 14:42:54.141 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:42:54.142 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 14:42:54.142 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:42:54.143 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:42:54.143 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:42:54.143 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 14:42:54.150 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 14:42:54.150 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 14:42:54.151 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:42:54.151 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:42:54.151 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:42:54.152 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 14:42:54.152 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 14:42:54.159 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 14:42:54.159 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 14:42:54.159 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:42:54.160 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:42:54.160 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:42:54.160 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 14:42:54.259 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 10232 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:42:54.260 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:42:54.260 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:42:57.431 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 10232 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:42:57.432 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:42:57.432 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:42:58.342 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:42:58.367 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.972 seconds (process running for 14.544)
2024-07-27 14:42:58.820 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 10232 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:42:58.820 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:42:58.820 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:42:59.206 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:42:59.217 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.418 seconds (process running for 15.395)
2024-07-27 14:42:59.281 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 10232 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:42:59.281 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:42:59.281 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:42:59.634 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:42:59.643 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.375 seconds (process running for 15.82)
2024-07-27 14:42:59.772 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 10232 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:42:59.772 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:42:59.772 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:43:00.129 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:43:00.137 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.383 seconds (process running for 16.315)
2024-07-27 14:43:00.231 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 10232 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:43:00.231 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:43:00.231 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:43:00.559 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:43:00.565 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.355 seconds (process running for 16.742)
2024-07-27 14:43:00.676 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 10232 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:43:00.676 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:43:00.677 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:43:02.487 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:43:02.487 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:43:02.488 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:43:02.489 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 14:43:02.489 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:43:02.493 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 14:43:02.494 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:43:02.494 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 14:43:02.497 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:43:02.497 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:43:02.497 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 14:43:02.500 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:43:02.500 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 14:43:02.505 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:43:02.505 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:43:02.505 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:43:02.505 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 14:43:02.505 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:43:02.658 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:43:02.658 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 14:43:02.658 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 14:43:02.662 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:43:02.662 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 14:43:02.665 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:43:02.669 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:43:02.669 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 14:43:02.671 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:43:02.671 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 14:43:02.675 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:43:02.675 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 14:43:02.678 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:43:02.679 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 14:43:02.868 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:43:02.869 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 14:43:02.871 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:43:02.871 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 14:43:02.874 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:43:02.878 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 14:43:02.880 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 14:43:03.231 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:43:03.231 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:43:03.289 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:43:03.290 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:43:03.290 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:43:03.290 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 14:43:03.294 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:43:03.294 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:43:03.294 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:43:03.294 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:43:03.295 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:43:03.295 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:43:03.295 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:43:03.295 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 14:43:03.298 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:43:03.299 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:43:03.300 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 14:43:03.300 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:43:03.300 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:43:03.300 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 14:43:03.301 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 14:43:03.304 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:43:03.304 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:43:03.305 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:43:03.305 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:43:03.305 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:43:03.309 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:43:03.310 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:43:03.310 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:43:03.310 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:43:03.310 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:43:03.311 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 14:43:03.314 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:43:03.314 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:43:03.316 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:43:03.316 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:43:03.316 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:43:03.316 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 14:43:03.402 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 14:43:03.403 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 14:43:03.405 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 14:43:03.405 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 14:43:03.408 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 14:43:03.409 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 14:43:03.412 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 14:43:03.413 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 14:43:03.416 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 14:43:03.417 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 14:45:33.737 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 10268 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:45:33.739 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:45:33.741 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:45:39.535 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.628 seconds (process running for 8.018)
2024-07-27 14:45:40.314 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 10268 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:45:40.314 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:45:40.314 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:45:41.048 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.763 seconds (process running for 9.532)
2024-07-27 14:45:42.108 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 14:45:42.113 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 14:45:42.116 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:45:42.117 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:45:42.117 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:45:42.117 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 14:45:42.140 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:45:42.141 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 14:45:42.141 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 14:45:42.151 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:45:42.152 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 14:45:42.152 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:45:42.153 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:45:42.153 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:45:42.153 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 14:45:42.162 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 14:45:42.162 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 14:45:42.163 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:45:42.163 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:45:42.163 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:45:42.164 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 14:45:42.164 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 14:45:42.172 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 14:45:42.172 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 14:45:42.172 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:45:42.172 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:45:42.173 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:45:42.173 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 14:45:42.330 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 10268 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:45:42.331 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:45:42.331 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:45:48.499 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:45:48.563 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Started AuthIntegrationTest in 6.3 seconds (process running for 17.047)
2024-07-27 14:45:48.948 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 10268 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:45:48.949 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:45:48.949 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:45:49.213 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:45:49.218 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.287 seconds (process running for 17.702)
2024-07-27 14:45:49.347 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 10268 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:45:49.347 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:45:49.347 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:45:49.640 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:45:49.647 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.314 seconds (process running for 18.131)
2024-07-27 14:45:49.702 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 10268 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:45:49.702 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:45:49.702 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:45:49.967 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:45:49.973 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.282 seconds (process running for 18.457)
2024-07-27 14:45:50.069 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 10268 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:45:50.069 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:45:50.069 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:45:50.366 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:45:50.373 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.315 seconds (process running for 18.857)
2024-07-27 14:45:50.490 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 10268 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:45:50.490 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:45:50.490 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:45:50.738 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:45:50.746 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.268 seconds (process running for 19.23)
2024-07-27 14:45:50.853 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 10268 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:45:50.853 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:45:50.853 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:45:52.730 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Started FinalProjectApplicationTests in 1.89 seconds (process running for 21.214)
2024-07-27 14:45:53.048 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:45:53.049 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:45:53.049 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:45:53.051 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 14:45:53.051 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:45:53.054 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 14:45:53.055 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:45:53.055 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 14:45:53.058 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:45:53.058 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:45:53.058 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 14:45:53.061 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:45:53.061 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 14:45:53.065 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:45:53.065 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:45:53.065 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:45:53.065 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 14:45:53.065 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:45:53.186 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:45:53.186 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 14:45:53.186 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 14:45:53.189 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:45:53.190 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 14:45:53.192 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:45:53.195 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:45:53.195 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 14:45:53.197 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:45:53.197 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 14:45:53.200 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:45:53.200 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 14:45:53.203 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:45:53.203 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 14:45:53.358 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:45:53.358 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 14:45:53.361 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:45:53.361 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 14:45:53.364 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:45:53.367 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 14:45:53.370 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 14:45:53.639 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:45:53.640 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:45:53.693 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:45:53.693 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:45:53.694 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:45:53.694 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 14:45:53.697 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:45:53.697 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:45:53.698 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:45:53.698 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:45:53.698 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:45:53.698 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:45:53.699 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:45:53.699 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 14:45:53.703 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:45:53.703 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:45:53.704 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 14:45:53.704 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:45:53.704 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:45:53.704 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 14:45:53.705 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 14:45:53.709 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:45:53.709 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:45:53.710 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:45:53.710 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:45:53.710 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:45:53.714 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:45:53.715 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:45:53.715 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:45:53.715 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:45:53.716 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:45:53.716 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 14:45:53.719 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:45:53.731 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:45:53.732 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:45:53.732 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:45:53.733 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:45:53.733 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 14:45:53.809 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 14:45:53.809 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 14:45:53.812 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 14:45:53.812 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 14:45:53.815 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 14:45:53.815 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 14:45:53.817 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 14:45:53.818 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 14:45:53.821 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 14:45:53.821 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 14:51:19.838 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 10439 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:51:19.842 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:51:19.843 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:51:25.708 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.879 seconds (process running for 8.38)
2024-07-27 14:51:26.406 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 10439 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:51:26.406 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:51:26.406 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:51:27.117 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.73 seconds (process running for 9.789)
2024-07-27 14:51:28.146 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 14:51:28.154 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 14:51:28.155 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:51:28.156 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:51:28.157 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:51:28.157 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 14:51:28.186 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:51:28.187 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 14:51:28.187 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 14:51:28.198 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:51:28.199 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 14:51:28.200 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:51:28.201 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:51:28.201 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:51:28.202 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 14:51:28.214 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 14:51:28.215 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 14:51:28.216 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:51:28.217 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:51:28.217 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:51:28.218 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 14:51:28.219 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 14:51:28.229 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 14:51:28.229 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 14:51:28.230 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:51:28.230 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:51:28.231 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:51:28.231 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 14:51:28.372 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 10439 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:51:28.372 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:51:28.372 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:51:31.968 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 10439 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:51:31.968 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:51:31.968 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:51:32.902 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:51:32.928 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.998 seconds (process running for 15.475)
2024-07-27 14:51:33.381 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 10439 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:51:33.382 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:51:33.382 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:51:33.764 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:51:33.777 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.408 seconds (process running for 16.324)
2024-07-27 14:51:33.852 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 10439 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:51:33.852 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:51:33.852 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:51:34.205 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:51:34.213 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.376 seconds (process running for 16.76)
2024-07-27 14:51:34.320 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 10439 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:51:34.320 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:51:34.320 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:51:34.624 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:51:34.630 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.322 seconds (process running for 17.177)
2024-07-27 14:51:34.703 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 10439 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:51:34.703 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:51:34.704 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:51:35.058 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:51:35.066 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.379 seconds (process running for 17.613)
2024-07-27 14:51:35.168 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 10439 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:51:35.168 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:51:35.168 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:51:36.990 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:51:36.991 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:51:36.992 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:51:36.994 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 14:51:36.994 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:51:36.998 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 14:51:36.998 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:51:36.999 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 14:51:37.002 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:51:37.002 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:51:37.002 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 14:51:37.005 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:51:37.005 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 14:51:37.009 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:51:37.009 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:51:37.009 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:51:37.009 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 14:51:37.009 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:51:37.147 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:51:37.147 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 14:51:37.147 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 14:51:37.150 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:51:37.150 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 14:51:37.152 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:51:37.155 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:51:37.156 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 14:51:37.159 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:51:37.159 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 14:51:37.162 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:51:37.163 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 14:51:37.166 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:51:37.166 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 14:51:37.347 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:51:37.347 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 14:51:37.349 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:51:37.350 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 14:51:37.352 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:51:37.355 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 14:51:37.357 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 14:51:37.677 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:51:37.678 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:51:37.738 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:51:37.739 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:51:37.739 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:51:37.739 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 14:51:37.743 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:51:37.743 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:51:37.743 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:51:37.743 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:51:37.744 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:51:37.744 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:51:37.744 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:51:37.744 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 14:51:37.747 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:51:37.747 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:51:37.748 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 14:51:37.748 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:51:37.749 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:51:37.749 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 14:51:37.750 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 14:51:37.753 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:51:37.754 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:51:37.754 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:51:37.754 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:51:37.755 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:51:37.758 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:51:37.758 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:51:37.759 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:51:37.759 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:51:37.759 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:51:37.759 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 14:51:37.762 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:51:37.762 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:51:37.763 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:51:37.763 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:51:37.763 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:51:37.764 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 14:51:37.841 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 14:51:37.842 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 14:51:37.844 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 14:51:37.844 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 14:51:37.847 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 14:51:37.847 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 14:51:37.849 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 14:51:37.850 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 14:51:37.852 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 14:51:37.853 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
2024-07-27 14:53:05.782 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Starting FavoriteRepositoryTest using Java 22.0.1 with PID 10502 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:53:05.784 | main                      | DEBUG | com.example.final_project.repository.FavoriteRepositoryTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:53:05.785 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:53:11.856 | main                      | INFO  | com.example.final_project.repository.FavoriteRepositoryTest             -  Started FavoriteRepositoryTest in 6.822 seconds (process running for 8.147)
2024-07-27 14:53:12.595 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Starting OrderRepositoryTest using Java 22.0.1 with PID 10502 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:53:12.595 | main                      | DEBUG | com.example.final_project.repository.OrderRepositoryTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:53:12.596 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:53:13.329 | main                      | INFO  | com.example.final_project.repository.OrderRepositoryTest                -  Started OrderRepositoryTest in 0.762 seconds (process running for 9.62)
2024-07-27 14:53:14.251 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting login process for user with email: test@example.com
2024-07-27 14:53:14.255 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User authenticated successfully with email: test@example.com
2024-07-27 14:53:14.256 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:53:14.256 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:53:14.257 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:53:14.257 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User login and token generation process completed successfully for email: test@example.com
2024-07-27 14:53:14.279 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:53:14.279 | main                      | WARN  | com.example.final_project.security.service.AuthService                  -  Invalid refresh token provided.
2024-07-27 14:53:14.280 | main                      | ERROR | com.example.final_project.security.service.AuthService                  -  Authorization failed due to invalid refresh token.
2024-07-27 14:53:14.288 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to get access token using refresh token.
2024-07-27 14:53:14.288 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid.
2024-07-27 14:53:14.289 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:53:14.290 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:53:14.290 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:53:14.290 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token for user with email: test@example.com
2024-07-27 14:53:14.299 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Attempting to refresh tokens using the provided refresh token.
2024-07-27 14:53:14.299 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Refresh token is valid!.
2024-07-27 14:53:14.300 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Extracted user email from refresh token: test@example.com
2024-07-27 14:53:14.300 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Retrieved stored refresh token for user with email: test@example.com
2024-07-27 14:53:14.301 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Provided refresh token matches the stored refresh token.
2024-07-27 14:53:14.301 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated new access token and refresh token for user with email: test@example.com
2024-07-27 14:53:14.302 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Updated the stored refresh token for user with email: test@example.com
2024-07-27 14:53:14.309 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Starting user registration process for email: test@example.com
2024-07-27 14:53:14.309 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registered successfully with email: test@example.com
2024-07-27 14:53:14.309 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated access token for user with email: test@example.com
2024-07-27 14:53:14.310 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Generated refresh token for user with email: test@example.com
2024-07-27 14:53:14.310 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  Set refresh token for user with email: test@example.com
2024-07-27 14:53:14.310 | main                      | INFO  | com.example.final_project.security.service.AuthService                  -  User registration and token generation process completed successfully for email: test@example.com
2024-07-27 14:53:14.418 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Starting AuthIntegrationTest using Java 22.0.1 with PID 10502 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:53:14.418 | main                      | DEBUG | com.example.final_project.integration.AuthIntegrationTest               -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:53:14.418 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:53:20.713 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:53:20.781 | main                      | INFO  | com.example.final_project.integration.AuthIntegrationTest               -  Started AuthIntegrationTest in 6.41 seconds (process running for 17.072)
2024-07-27 14:53:21.205 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Starting UserControllerTest using Java 22.0.1 with PID 10502 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:53:21.205 | main                      | DEBUG | com.example.final_project.controller.UserControllerTest                 -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:53:21.205 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:53:21.470 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:53:21.475 | main                      | INFO  | com.example.final_project.controller.UserControllerTest                 -  Started UserControllerTest in 0.284 seconds (process running for 17.766)
2024-07-27 14:53:21.596 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Starting CartItemControllerTest using Java 22.0.1 with PID 10502 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:53:21.596 | main                      | DEBUG | com.example.final_project.controller.CartItemControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:53:21.596 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:53:21.908 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:53:21.914 | main                      | INFO  | com.example.final_project.controller.CartItemControllerTest             -  Started CartItemControllerTest in 0.331 seconds (process running for 18.205)
2024-07-27 14:53:21.972 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Starting OrderControllerTest using Java 22.0.1 with PID 10502 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:53:21.972 | main                      | DEBUG | com.example.final_project.controller.OrderControllerTest                -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:53:21.973 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:53:22.251 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:53:22.258 | main                      | INFO  | com.example.final_project.controller.OrderControllerTest                -  Started OrderControllerTest in 0.301 seconds (process running for 18.549)
2024-07-27 14:53:22.373 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Starting FavoriteControllerTest using Java 22.0.1 with PID 10502 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:53:22.374 | main                      | DEBUG | com.example.final_project.controller.FavoriteControllerTest             -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:53:22.374 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:53:22.643 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:53:22.647 | main                      | INFO  | com.example.final_project.controller.FavoriteControllerTest             -  Started FavoriteControllerTest in 0.284 seconds (process running for 18.938)
2024-07-27 14:53:22.718 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Starting ProductControllerTest using Java 22.0.1 with PID 10502 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:53:22.719 | main                      | DEBUG | com.example.final_project.controller.ProductControllerTest              -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:53:22.719 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:53:23.020 | main                      | DEBUG | com.example.final_project.security.jwt.JwtFilter                        -  Filter 'jwtFilter' configured for use
2024-07-27 14:53:23.025 | main                      | INFO  | com.example.final_project.controller.ProductControllerTest              -  Started ProductControllerTest in 0.323 seconds (process running for 19.316)
2024-07-27 14:53:23.135 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Starting FinalProjectApplicationTests using Java 22.0.1 with PID 10502 (started by serhiihorb in /Users/serhiihorb/Desktop/Tel_Ran_Pro/Final_Project)
2024-07-27 14:53:23.135 | main                      | DEBUG | com.example.final_project.FinalProjectApplicationTests                  -  Running with Spring Boot v3.3.0, Spring v6.1.8
2024-07-27 14:53:23.135 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  No active profile set, falling back to 1 default profile: "default"
2024-07-27 14:53:25.026 | main                      | INFO  | com.example.final_project.FinalProjectApplicationTests                  -  Started FinalProjectApplicationTests in 1.905 seconds (process running for 21.317)
2024-07-27 14:53:25.329 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:53:25.330 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:53:25.331 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:53:25.332 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem not found, creating new one.
2024-07-27 14:53:25.332 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:53:25.337 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting deleteProductInCartByUserIdAndProductId for userId: 1 with productId: 1
2024-07-27 14:53:25.338 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:53:25.339 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem deleted successfully: CartItem(cartItemId=1, quantity=10)
2024-07-27 14:53:25.342 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:53:25.342 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:53:25.343 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Product not found for productId: 1
2024-07-27 14:53:25.346 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:53:25.347 | main                      | ERROR | com.example.final_project.service.CartItemService                       -  Cart not found for userId: 1
2024-07-27 14:53:25.350 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  Starting addOrUpdateProductInCart for userId: 1 with productId: 1
2024-07-27 14:53:25.351 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found cart: Cart(cartId=1)
2024-07-27 14:53:25.351 | main                      | DEBUG | com.example.final_project.service.CartItemService                       -  Found product: Product(productId=1, name=Product, description=Description, price=10.0, imageURL=imageUrl, discountPrice=9.0, createdAt=null, updatedAt=null)
2024-07-27 14:53:25.351 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem found, updating quantity.
2024-07-27 14:53:25.351 | main                      | INFO  | com.example.final_project.service.CartItemService                       -  CartItem saved successfully: CartItem(cartItemId=1, quantity=2)
2024-07-27 14:53:25.474 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:53:25.475 | main                      | INFO  | com.example.final_project.service.UserService                           -  User object created for email: test@example.com
2024-07-27 14:53:25.475 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully saved to the database.
2024-07-27 14:53:25.479 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:53:25.479 | main                      | ERROR | com.example.final_project.service.UserService                           -  Incorrect password for user with email: test@example.com
2024-07-27 14:53:25.481 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:53:25.484 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:53:25.484 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist.
2024-07-27 14:53:25.486 | main                      | INFO  | com.example.final_project.service.UserService                           -  Get user with email: test@example.com
2024-07-27 14:53:25.487 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com does not exist in DB.
2024-07-27 14:53:25.490 | main                      | INFO  | com.example.final_project.service.UserService                           -  Starting registration for user with email: test@example.com
2024-07-27 14:53:25.490 | main                      | ERROR | com.example.final_project.service.UserService                           -  User with email test@example.com already exists.
2024-07-27 14:53:25.492 | main                      | INFO  | com.example.final_project.service.UserService                           -  Attempting login for user with email: test@example.com
2024-07-27 14:53:25.493 | main                      | INFO  | com.example.final_project.service.UserService                           -  User with email: test@example.com successfully logged in.
2024-07-27 14:53:25.637 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:53:25.638 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of product.
2024-07-27 14:53:25.641 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:53:25.641 | main                      | ERROR | com.example.final_project.service.ProductService                        -  Error updating product: Incorrect id of category.
2024-07-27 14:53:25.644 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Updating product with ID: 1
2024-07-27 14:53:25.647 | main                      | INFO  | com.example.final_project.service.ProductService                        -  Inserting new product: Product 1
2024-07-27 14:53:25.650 | main                      | WARN  | com.example.final_project.service.ProductService                        -  Validation errors while updating product with ID: 1
2024-07-27 14:53:25.928 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:53:25.929 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:53:25.989 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:53:25.989 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:53:25.989 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:53:25.989 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found 1 orders placed by the user the id of null
2024-07-27 14:53:25.992 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:53:25.993 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:53:25.993 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:53:25.993 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:53:25.994 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:53:25.994 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:53:25.994 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:53:25.994 | main                      | ERROR | com.example.final_project.service.OrderService                          -  Order with the id of 2 was not found for ordinary user tom@gmail.com
2024-07-27 14:53:25.998 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:53:25.998 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:53:25.999 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to create the order
2024-07-27 14:53:25.999 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:53:26.000 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:53:26.000 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the newly created order with the id of 1
2024-07-27 14:53:26.000 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Saving the items of the newly created order with the id of 1
2024-07-27 14:53:26.005 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:53:26.005 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:53:26.005 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:53:26.006 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:53:26.006 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:53:26.010 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:53:26.011 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:53:26.012 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the status of the given id
2024-07-27 14:53:26.013 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:53:26.013 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:53:26.014 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Order with the id of 1 is of CREATED status
2024-07-27 14:53:26.019 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:53:26.019 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:53:26.021 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get the history of the orders
2024-07-27 14:53:26.021 | main                      | INFO  | com.example.final_project.service.OrderService                          -  Attempting to get a user by the provided access token
2024-07-27 14:53:26.021 | main                      | INFO  | com.example.final_project.service.OrderService                          -  The user with the id of null has been tracked
2024-07-27 14:53:26.021 | main                      | INFO  | com.example.final_project.service.OrderService                          -  found {} placed orders in total
2024-07-27 14:53:26.087 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 100 and productId: 1
2024-07-27 14:53:26.088 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  User with id 100 not found.
2024-07-27 14:53:26.092 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to delete favorite for userId: 1 and productId: 100
2024-07-27 14:53:26.092 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Favorite for userId: 1 and productId: 100 not found.
2024-07-27 14:53:26.095 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 100
2024-07-27 14:53:26.095 | main                      | ERROR | com.example.final_project.service.FavoriteService                       -  Product with id 100 not found.
2024-07-27 14:53:26.098 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Fetching all favorites for userId: 1
2024-07-27 14:53:26.099 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  No favorites found for userId: 1
2024-07-27 14:53:26.102 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Attempting to add favorite for userId: 1 and productId: 1
2024-07-27 14:53:26.103 | main                      | INFO  | com.example.final_project.service.FavoriteService                       -  Favorite successfully added for userId: 1 and productId: 1
